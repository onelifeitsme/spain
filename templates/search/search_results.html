{% extends '_layout.html' %}
{% load static %}
{% load detail_and_futures_filter %}


{% block content %}
    <!-- ============================ Hero Banner  Start================================== -->
    <div class="fs-container half-map">

        <div class="fs-left-map-box">
            <div class="home-map fl-wrap">
                <div class="map-container fw-map">
                    <div id="map-main"></div>
                </div>
            </div>
        </div>

        <div class="fs-inner-container">
            <div class="fs-content">

                <div class="filterspaces mb-3">
                    <div class="row align-items-center">

                        <div class="col-lg-9 col-md-9 col-sm-8 col-9">
                            {% if category_set.exists %}
                                <div class="filterspace__controls">
                                    <ul class="nav nav-pills" id="pills-tab" role="tablist">
                                        <li class="nav-item">
                                            <a class="nav-link active"
                                               id="rent-tab" data-toggle="pill" href="all/" role="tab"
                                               aria-controls="pills-rent"
                                               aria-selected="true">All</a>
                                        </li>
                                        {% for category in category_set %}
                                            <li class="nav-item">
                                                <a class="nav-link



                                                        {#                                                    {% if category_set.first == category %} active {% else %} {% endif %}#}
                                                    "
                                                   id="rent-tab" data-toggle="pill" href="{{ category.id }}" role="tab"
                                                   aria-controls="pills-rent"
                                                   aria-selected="true">{{ category.name | capfirst }}</a>
                                            </li>
                                        {% endfor %}
                                    </ul>
                                </div>
                            {% endif %}
                        </div>

                        {% for item in page %}
                            <li>{{ item.object }}</li>
                        {% endfor %}

                        <div class="col-lg-3 col-md-3 col-sm-4 col-3">
                            <div class="filterspace__link">
                                <a href="javascript_voide(0);" class="filt_link" data-toggle="modal"
                                   data-target="#searchfilter"><i class="ti-filter mr-1"></i><span>Filters</span></a>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="clearfix"></div>

                <div class="row">

                    {% for object in object_list %}
                        <!-- Single Property -->
                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="list-slide-box">
                                <div class="modern-list">
                                    <div class="grid-category-thumb">
                                        <a href="{% url 'object_detail' object.object.pk %}" class="overlay-cate">
                                            {% if not object.object.primary_image %}
                                                <img src="https://via.placeholder.com/1200x800" class="img-responsive"
                                                     alt="">
                                            {% else %}
                                                <img src="{{ object.object.primary_image.url }}"
                                                     class="img-responsive" alt="">
                                            {% endif %}
                                        </a>
                                        <div class="property_meta simple">
                                            {% if object.object.type_of_deal == 'SALE' %}
                                                <a href="#" class="cate-trix theme-cl">For Sale</a>
                                            {% else %}
                                                <a href="#" class="cate-trix theme-cl">For Rent</a>
                                            {% endif %}

                                        </div>
                                    </div>
                                    <div class="modern-list-content">
                                        {#                                        <div class="author-avater">#}
                                        {#                                            <img src="https://via.placeholder.com/500x500" class="author-avater-img"#}
                                        {#                                                 alt="">#}
                                        {#                                        </div>#}
                                        <div class="listing-content-wrap smalls">
                                            <h4 class="lst-title"><a href="detail/detail.html">{{ object.object.name }}</a>
                                            </h4>
                                            <p>{{ object.object.country }}, {{ object.object.city }}</p>
                                        </div>
                                        <div class="listing-footer-wrap property-lists mt-2">
                                            <div class="property-lists flex-1">
                                                <ul>
                                                    {% with bed=object.object.detailandfeature_set.all|get_daf:'Bedrooms' %}
                                                        {% if bed %}
                                                            <li><span class="flatcons"><img
                                                                    src="{% static 'assets/img/color-bed.svg' %}"
                                                                    alt=""></span>{{ bed.property }}
                                                            </li>
                                                        {% endif %}
                                                    {% endwith %}
                                                    {% with bath=object.object.detailandfeature_set.all|get_daf:'Bathrooms' %}
                                                        {% if bath %}
                                                            <li><span class="flatcons"><img
                                                                    src="{% static 'assets/img/color-bathroom.svg' %}"
                                                                    alt=""></span>{{ bath.property }}
                                                            </li>
                                                        {% endif %}
                                                    {% endwith %}
                                                </ul>
                                            </div>
                                            <h4 class="mdr-price">{{ object.object.currency.symbol }} {{ object.object.price }}</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>

                <!-- Pagination -->
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <ul class="pagination p-center">
                            {% if  page_obj.has_previous %}
                                <li class="page-item">
                                    <a class="page-link" href="?page={{ page_obj.previous_page_number }}"
                                       aria-label="Previous">
                                        <span class="ti-arrow-left"></span>
                                        <span class="sr-only">Previous</span>
                                    </a>
                                </li>
                            {% endif %}
                            {% if  page_obj.number > 2 %}
                                <li class="page-item"><a class="page-link" href="?page=1">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">...</a></li>
                            {% endif %}
                            {% for page_num in  page_obj.paginator.page_range %}
                                {% if page_obj.number == page_num %}
                                    <li class="page-item active">
                                        <a class="page-link" href="?page={{ page_num }}">{{ page_num }}</a>
                                    </li>
                                {% elif page_num > page_obj.number|add:-2 and page_num < page_obj.number|add:2 %}
                                    <li class="page-item">
                                        <a class="page-link" href="?page={{ page_num }}">{{ page_num }}</a>
                                    </li>
                                {% endif %}
                            {% endfor %}
                            {% if  page_obj.number < page_obj.paginator.num_pages|add:-1 %}
                                <li class="page-item">
                                    <a class="page-link">...</a>
                                </li>
                                <li class="page-item active">
                                    <a class="page-link"
                                       href="?page={{ page_obj.paginator.num_pages }}">{{ page_obj.paginator.num_pages }}</a>
                                </li>
                            {% endif %}

                            {% if  page_obj.has_next %}
                                <li class="page-item">
                                    <a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Next">
                                        <span class="ti-arrow-right"></span>
                                        <span class="sr-only">Next</span>
                                    </a>
                                </li>
                            {% endif %}
                        </ul>
                    </div>
                </div>

            </div>
        </div>

    </div>
    <div class="clearfix"></div>
    <!-- ============================ Hero Banner End ================================== -->


    <!-- Log In Modal -->
    <div class="modal fade" id="login" tabindex="-1" role="dialog" aria-labelledby="registermodal" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered login-pop-form" role="document">
            <header class="modal_content_header">
                <div class="hm_nav">
                    <h3 class="hm_nav_title">Log In</h3>
                    <span class="mod-close" data-dismiss="modal" aria-hidden="true"><i class="ti-close"></i></span>
                    <span class="hm_nav_clear">Clear</span>
                </div>
            </header>
            <div class="modal-content" id="registermodal">
                <div class="modal-body">
                    <div class="login-form">
                        <form>

                            <div class="form-group">
                                <label>User Name</label>
                                <div class="input-with-icon">
                                    <input type="text" class="form-control" placeholder="Username">
                                    <i class="ti-user"></i>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Password</label>
                                <div class="input-with-icon">
                                    <input type="password" class="form-control" placeholder="*******">
                                    <i class="ti-unlock"></i>
                                </div>
                            </div>

                            <div class="form-group">
                                <button type="submit" class="btn btn-md full-width pop-login bg-2">Login</button>
                            </div>

                        </form>
                    </div>
                    <div class="modal-divider"><span>Or login via</span></div>
                    <div class="social-login mb-3">
                        <ul>
                            <li><a href="#" class="btn connect-fb"><i class="ti-facebook"></i>Facebook</a></li>
                            <li><a href="#" class="btn connect-twitter"><i class="ti-twitter"></i>Twitter</a></li>
                        </ul>
                    </div>

                    <div class="social-login mb-3">
                        <ul>
                            <li>
                                <input id="reg" class="checkbox-custom" name="reg" type="checkbox">
                                <label for="reg" class="checkbox-custom-label">Save Password</label>
                            </li>
                            <li><a href="#" class="theme-cl">Forget Password?</a></li>
                        </ul>
                    </div>

                    <div class="text-center">
                        <p class="mt-2">Haven't Any Account? <a href="register.html" class="link">Click here</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Modal -->

    <!-- Sign Up Modal -->
    <div class="modal fade" id="signup" tabindex="-1" role="dialog" aria-labelledby="sign-up" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered login-pop-form" role="document">
            <header class="modal_content_header">
                <div class="hm_nav">
                    <h3 class="hm_nav_title">Sign Up</h3>
                    <span class="mod-close" data-dismiss="modal" aria-hidden="true"><i class="ti-close"></i></span>
                    <span class="hm_nav_clear">Clear</span>
                </div>
            </header>
            <div class="modal-content" id="sign-up">
                <div class="modal-body">
                    <div class="login-form">
                        <form>

                            <div class="row">

                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <label>Full Name</label>
                                        <div class="input-with-icon">
                                            <input type="text" class="form-control" placeholder="Full Name">
                                            <i class="ti-user"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <label>Email</label>
                                        <div class="input-with-icon">
                                            <input type="email" class="form-control" placeholder="Email">
                                            <i class="ti-email"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <label>Username</label>
                                        <div class="input-with-icon">
                                            <input type="text" class="form-control" placeholder="Username">
                                            <i class="ti-user"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group">
                                        <label>Password</label>
                                        <div class="input-with-icon">
                                            <input type="password" class="form-control" placeholder="*******">
                                            <i class="ti-unlock"></i>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="form-group">
                                <button type="submit" class="btn btn-md full-width pop-login bg-2">Create Account
                                </button>
                            </div>

                        </form>
                    </div>
                    <div class="modal-divider"><span>Or Signup via</span></div>
                    <div class="social-login mb-3">
                        <ul>
                            <li><a href="#" class="btn connect-fb"><i class="ti-facebook"></i>Facebook</a></li>
                            <li><a href="#" class="btn connect-twitter"><i class="ti-twitter"></i>Twitter</a></li>
                        </ul>
                    </div>
                    <div class="text-center">
                        <p class="mt-3"><i class="ti-user mr-1"></i>Already Have An Account? <a href="#" class="link">Go
                            For LogIn</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Modal -->

    <!-- Filter Search -->
    <div class="modal fade" id="searchfilter" tabindex="-1" role="dialog" aria-labelledby="searchmodal"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered login-pop-form" role="document">
            <header class="modal_content_header">
                <div class="hm_nav">
                    <h3 class="hm_nav_title">Filter</h3>
                    <span class="mod-close" data-dismiss="modal" aria-hidden="true"><i class="ti-close"></i></span>
                    <span class="hm_nav_clear">Clear</span>
                </div>
            </header>
            <div class="modal-content" id="searchmodal">
                <div class="modal-body pl-0 pr-0">

                    <div class="filter-search-box">
                        <div class="form-group">
                            <div class="input-with-icon">
                                <input type="text" class="form-control" placeholder="Search by space nameâ€¦">
                                <i class="ti-search"></i>
                            </div>
                        </div>
                    </div>

                    <div class="filter_wraps">

                        <!-- Single Search -->
                        <div class="single_search_boxed">
                            <div class="widget-boxed-header">
                                <h4>
                                    <a href="#where" data-toggle="collapse" aria-expanded="false" role="button"
                                       class="collapsed">Where<span class="selected">Chicago</span></a>
                                </h4>

                            </div>
                            <div class="widget-boxed-body collapse" id="where" data-parent="#where">
                                <div class="side-list no-border">
                                    <!-- Single Filter Card -->
                                    <div class="single_filter_card">
                                        <div class="card-body pt-0">
                                            <div class="inner_widget_link">
                                                <ul class="no-ul-list filter-list">
                                                    <li>
                                                        <input id="b1" class="radio-custom" name="where" type="radio">
                                                        <label for="b1" class="radio-custom-label">Atlanta</label>
                                                    </li>
                                                    <li>
                                                        <input id="b2" class="radio-custom" name="where" type="radio">
                                                        <label for="b2" class="radio-custom-label">Austin</label>
                                                    </li>
                                                    <li>
                                                        <input id="b3" class="radio-custom" name="where" type="radio">
                                                        <label for="b3" class="radio-custom-label">Boston</label>
                                                    </li>
                                                    <li>
                                                        <input id="b4" class="radio-custom" name="where" type="radio"
                                                               checked>
                                                        <label for="b4" class="radio-custom-label">Chicago</label>
                                                    </li>
                                                    <li>
                                                        <input id="b5" class="radio-custom" name="where" type="radio">
                                                        <label for="b5" class="radio-custom-label">Dallas</label>
                                                    </li>
                                                    <li>
                                                        <input id="b6" class="radio-custom" name="where" type="radio">
                                                        <label for="b6" class="radio-custom-label">Denver</label>
                                                    </li>
                                                    <li>
                                                        <input id="b7" class="radio-custom" name="where" type="radio">
                                                        <label for="b7" class="radio-custom-label">Houston</label>
                                                    </li>
                                                    <li>
                                                        <input id="b8" class="radio-custom" name="where" type="radio">
                                                        <label for="b8" class="radio-custom-label">Jacksonville</label>
                                                    </li>
                                                    <li>
                                                        <input id="b9" class="radio-custom" name="where" type="radio">
                                                        <label for="b9" class="radio-custom-label">Los Angeles</label>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Single Search -->
                        <div class="single_search_boxed">
                            <div class="widget-boxed-header">
                                <h4>
                                    <a href="#fptype" data-toggle="collapse" aria-expanded="false" role="button"
                                       class="collapsed">Property Types<span class="selected">Apartment</span></a>
                                </h4>

                            </div>
                            <div class="widget-boxed-body collapse" id="fptype" data-parent="#fptype">
                                <div class="side-list no-border">
                                    <!-- Single Filter Card -->
                                    <div class="single_filter_card">
                                        <div class="card-body pt-0">
                                            <div class="inner_widget_link">
                                                <ul class="no-ul-list filter-list">
                                                    <li>
                                                        <input id="c1" class="radio-custom" name="ptype" type="radio">
                                                        <label for="c1" class="radio-custom-label">House</label>
                                                    </li>
                                                    <li>
                                                        <input id="c2" class="radio-custom" name="ptype" type="radio">
                                                        <label for="c2" class="radio-custom-label">Office Desk</label>
                                                    </li>
                                                    <li>
                                                        <input id="c3" class="radio-custom" name="ptype" type="radio">
                                                        <label for="c3" class="radio-custom-label">Villa</label>
                                                    </li>
                                                    <li>
                                                        <input id="c4" class="radio-custom" name="ptype" type="radio"
                                                               checked>
                                                        <label for="c4" class="radio-custom-label">Apartment</label>
                                                    </li>
                                                    <li>
                                                        <input id="c5" class="radio-custom" name="ptype" type="radio">
                                                        <label for="c5" class="radio-custom-label">Condo</label>
                                                    </li>
                                                    <li>
                                                        <input id="c6" class="radio-custom" name="ptype" type="radio">
                                                        <label for="c6" class="radio-custom-label">Denver</label>
                                                    </li>
                                                    <li>
                                                        <input id="c7" class="radio-custom" name="ptype" type="radio">
                                                        <label for="c7" class="radio-custom-label">Studio</label>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Single Search -->
                        <div class="single_search_boxed">
                            <div class="widget-boxed-header">
                                <h4>
                                    <a href="#fbedrooms" data-toggle="collapse" aria-expanded="false" role="button"
                                       class="collapsed">Bedrooms<span class="selected">2 Beds</span></a>
                                </h4>

                            </div>
                            <div class="widget-boxed-body collapse" id="fbedrooms" data-parent="#fbedrooms">
                                <div class="side-list no-border">
                                    <!-- Single Filter Card -->
                                    <div class="single_filter_card">
                                        <div class="card-body pt-0">
                                            <div class="inner_widget_link">
                                                <ul class="no-ul-list filter-list">
                                                    <li>
                                                        <input id="a1" class="radio-custom" name="bed" type="radio">
                                                        <label for="a1" class="radio-custom-label">01 Bedrooms</label>
                                                    </li>
                                                    <li>
                                                        <input id="a2" class="radio-custom" name="bed" type="radio">
                                                        <label for="a2" class="radio-custom-label">02 Bedrooms</label>
                                                    </li>
                                                    <li>
                                                        <input id="a3" class="radio-custom" name="bed" type="radio">
                                                        <label for="a3" class="radio-custom-label">03 Bedrooms</label>
                                                    </li>
                                                    <li>
                                                        <input id="a4" class="radio-custom" name="bed" type="radio"
                                                               checked>
                                                        <label for="a4" class="radio-custom-label">04 Bedrooms</label>
                                                    </li>
                                                    <li>
                                                        <input id="a5" class="radio-custom" name="bed" type="radio">
                                                        <label for="a5" class="radio-custom-label">05 Bedrooms</label>
                                                    </li>
                                                    <li>
                                                        <input id="a6" class="radio-custom" name="bed" type="radio">
                                                        <label for="a6" class="radio-custom-label">06+ Bedrooms</label>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Single Search -->
                        <div class="single_search_boxed">
                            <div class="widget-boxed-header">
                                <h4>
                                    <a href="#fprice" data-toggle="collapse" aria-expanded="false" role="button"
                                       class="collapsed">Price Range<span class="selected">$10,000 - $15,000</span></a>
                                </h4>

                            </div>
                            <div class="widget-boxed-body collapse" id="fprice" data-parent="#fprice">
                                <div class="side-list no-border">
                                    <!-- Single Filter Card -->
                                    <div class="single_filter_card">
                                        <div class="card-body pt-0">
                                            <div class="inner_widget_link">
                                                <ul class="no-ul-list filter-list">
                                                    <li>
                                                        <input id="e1" class="radio-custom" name="prices" type="radio">
                                                        <label for="e1" class="radio-custom-label">Less Then
                                                            $10,000</label>
                                                    </li>
                                                    <li>
                                                        <input id="e2" class="radio-custom" name="prices" type="radio">
                                                        <label for="e2" class="radio-custom-label">$10,000 -
                                                            $15,000</label>
                                                    </li>
                                                    <li>
                                                        <input id="e3" class="radio-custom" name="prices" type="radio">
                                                        <label for="e3" class="radio-custom-label">$12,000 -
                                                            $25,000</label>
                                                    </li>
                                                    <li>
                                                        <input id="e4" class="radio-custom" name="prices" type="radio"
                                                               checked>
                                                        <label for="e4" class="radio-custom-label">$30,000 -
                                                            $35,000</label>
                                                    </li>
                                                    <li>
                                                        <input id="e5" class="radio-custom" name="prices" type="radio">
                                                        <label for="e5" class="radio-custom-label">$40,000 -
                                                            $45,000</label>
                                                    </li>
                                                    <li>
                                                        <input id="e6" class="radio-custom" name="prices" type="radio">
                                                        <label for="e6" class="radio-custom-label">$50,000 -
                                                            $55,000</label>
                                                    </li>
                                                    <li>
                                                        <input id="e7" class="radio-custom" name="prices" type="radio">
                                                        <label for="e7" class="radio-custom-label">$60,000 -
                                                            $65,000</label>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Single Search -->
                        <div class="single_search_boxed">
                            <div class="widget-boxed-header">
                                <h4>
                                    <a href="#mood" data-toggle="collapse" aria-expanded="false" role="button"
                                       class="collapsed">Mood<span class="selected">Any Mood</span></a>
                                </h4>

                            </div>
                            <div class="widget-boxed-body collapse" id="mood" data-parent="#mood">
                                <div class="side-list no-border">
                                    <!-- Single Filter Card -->
                                    <div class="single_filter_card">
                                        <div class="card-body pt-0">
                                            <div class="inner_widget_link">
                                                <ul class="no-ul-list filter-list">
                                                    <li>
                                                        <input id="f1" class="radio-custom" name="moods" type="radio">
                                                        <label for="f1" class="radio-custom-label">Any Mood</label>
                                                    </li>
                                                    <li>
                                                        <input id="f2" class="radio-custom" name="moods" type="radio">
                                                        <label for="f2" class="radio-custom-label">Professional</label>
                                                    </li>
                                                    <li>
                                                        <input id="f3" class="radio-custom" name="moods" type="radio">
                                                        <label for="f3" class="radio-custom-label">Essentials</label>
                                                    </li>
                                                    <li>
                                                        <input id="f4" class="radio-custom" name="moods" type="radio"
                                                               checked>
                                                        <label for="f4" class="radio-custom-label">Unique</label>
                                                    </li>
                                                    <li>
                                                        <input id="f5" class="radio-custom" name="moods" type="radio">
                                                        <label for="f5" class="radio-custom-label">Lively</label>
                                                    </li>
                                                    <li>
                                                        <input id="f6" class="radio-custom" name="moods" type="radio">
                                                        <label for="f6" class="radio-custom-label">Luxe</label>
                                                    </li>
                                                    <li>
                                                        <input id="f7" class="radio-custom" name="moods" type="radio">
                                                        <label for="f7" class="radio-custom-label">Luxe</label>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Single Search -->
                        <div class="single_search_boxed">
                            <div class="widget-boxed-header">
                                <h4>
                                    <a href="#ameneties" data-toggle="collapse" aria-expanded="false" role="button"
                                       class="collapsed">Ameneties<span class="selected">ADA Compliant</span></a>
                                </h4>

                            </div>
                            <div class="widget-boxed-body collapse" id="ameneties" data-parent="#ameneties">
                                <div class="side-list no-border">
                                    <!-- Single Filter Card -->
                                    <div class="single_filter_card">
                                        <div class="card-body pt-0">
                                            <div class="inner_widget_link">
                                                <ul class="no-ul-list filter-list">
                                                    <li>
                                                        <input id="g1" class="checkbox-custom" name="ADA"
                                                               type="checkbox" checked>
                                                        <label for="g1" class="checkbox-custom-label">ADA
                                                            Compliant</label>
                                                    </li>
                                                    <li>
                                                        <input id="g2" class="checkbox-custom" name="Parking"
                                                               type="checkbox">
                                                        <label for="g2" class="checkbox-custom-label">Parking
                                                            Options</label>
                                                    </li>
                                                    <li>
                                                        <input id="g3" class="checkbox-custom" name="Coffee"
                                                               type="checkbox">
                                                        <label for="g3" class="checkbox-custom-label">Coffee
                                                            Provided</label>
                                                    </li>
                                                    <li>
                                                        <input id="g4" class="checkbox-custom" name="Mother"
                                                               type="checkbox">
                                                        <label for="g4" class="checkbox-custom-label">Mother's
                                                            Room</label>
                                                    </li>
                                                    <li>
                                                        <input id="g5" class="checkbox-custom" name="Outdoor"
                                                               type="checkbox">
                                                        <label for="g5" class="checkbox-custom-label">Outdoor
                                                            Space</label>
                                                    </li>
                                                    <li>
                                                        <input id="g6" class="checkbox-custom" name="Pet"
                                                               type="checkbox">
                                                        <label for="g6" class="checkbox-custom-label">Pet
                                                            Friendly</label>
                                                    </li>
                                                    <li>
                                                        <input id="g7" class="checkbox-custom" name="Beauty"
                                                               type="checkbox">
                                                        <label for="g7" class="checkbox-custom-label">Beauty &
                                                            Message</label>
                                                    </li>
                                                    <li>
                                                        <input id="g8" class="checkbox-custom" name="Bike"
                                                               type="checkbox">
                                                        <label for="g8" class="checkbox-custom-label">Bike
                                                            Parking</label>
                                                    </li>
                                                    <li>
                                                        <input id="g9" class="checkbox-custom" name="Phone"
                                                               type="checkbox">
                                                        <label for="g9" class="checkbox-custom-label">Phone Line</label>
                                                    </li>
                                                    <li>
                                                        <input id="g11" class="checkbox-custom" name="Private"
                                                               type="checkbox">
                                                        <label for="g11" class="checkbox-custom-label">Private
                                                            Areas</label>
                                                    </li>
                                                    <li>
                                                        <input id="g12" class="checkbox-custom" name="Free"
                                                               type="checkbox">
                                                        <label for="g12" class="checkbox-custom-label">Free WiFi</label>
                                                    </li>
                                                    <li>
                                                        <input id="g13" class="checkbox-custom" name="Swiming"
                                                               type="checkbox">
                                                        <label for="g13" class="checkbox-custom-label">Swiming
                                                            Pool</label>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="form-group filter_button">
                        <button type="submit" class="btn btn-md full-width pop-login bg-2">22 Results Show</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Modal -->

    <!-- Video Modal -->
    <div class="modal fade" id="popup-video" tabindex="-1" role="dialog" aria-labelledby="popup-video"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <iframe class="embed-responsive-item" width="100%" height="480"
                    src="https://www.youtube.com/embed/qN3OueBm9F4?rel=0" frameborder="0" allowfullscreen></iframe>
        </div>
    </div>
    <!-- End Video Modal -->

    <a id="back2Top" class="top-scroll" title="Back to top" href="#"><i class="ti-arrow-up"></i></a>


    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <script src="{% static 'assets/js/jquery.min.js' %}"></script>

    <script>
    </script>
    <script src="https://maps.google.com/maps/api/js?key="></script>
    <script src="{% static 'assets/js/map_infobox.js' %}"></script>
    <script src="{% static 'assets/js/markerclusterer.js' %}"></script>
    {#    <script src="{% static 'assets/js/map.js' %}"></script>#}
    <script>
        let map_marker = '{% static 'assets/img/marker.png' %}';
        (function ($) {
            "use strict";
            let map_marker = '{% static 'assets/img/marker.png' %}'
            var markerIcon = {
                anchor: new google.maps.Point(22, 16),
                url: map_marker,
            }

            function mainMap() {
                function locationData(locationURL, locationImg, propertyprice, propertytype, propertyname, propertytime, bedrooms, bathrooms) {
                    return ('<div class="map-popup-wrap"><div class="map-popup"><div class="infoBox-close"><i class="fa fa-times"></i></div><div class="single_property_style property_style_2"><div class="listing_thumb_wrapper"><div class="list-single-img"><a href="' + locationURL + '"><img src="' + locationImg + '" class="img-fluid mx-auto" alt="" /></a></div><span class="property-type">' + propertytype + '</span></div><div class="property_caption_wrappers pb-0"><div class="property_short_detail"><h4 class="listing-name"><a href="' + locationURL + '">' + propertyname + '</a><i class="list-status ti-check"></i></h4></div></div><div class="property_features_wrap"><div class="listing-price-fx"><h6 class="listing-card-info-price">' + propertyprice + '<span class="price-suffix">/' + propertytime + '</span></h6></div><div class="list-fx-features"><div class="listing-card-info-icon"><span class="inc-fleat inc-bed">' + bedrooms + '</span></div><div class="listing-card-info-icon"><span class="inc-fleat inc-bath">' + bathrooms + '</span></div></div></div></div></div></div>')
                }

                var locations = [];
                {% for object in object_list %}
                    locations.push([locationData('{% url 'object_detail' object.object.pk %}', '{{ object.object.primary_image.url }}', '{{ object.object.currency.symbol }}{{object.object.price}}', 'For {{object.object.type_of_deal}}', '{{ object.object.name }}', 'day', '1', "2 "), 40.72956781, -73.99726866, 0, markerIcon])
                {% endfor %}

                var map = new google.maps.Map(document.getElementById('map-main'), {
                    zoom: 9,
                    scrollwheel: false,
                    center: new google.maps.LatLng(40.7, -73.87),
                    mapTypeId: google.maps.MapTypeId.ROADMAP,
                    zoomControl: false,
                    mapTypeControl: false,
                    scaleControl: false,
                    panControl: false,
                    fullscreenControl: true,
                    navigationControl: false,
                    streetViewControl: false,
                    animation: google.maps.Animation.BOUNCE,
                    gestureHandling: 'cooperative',
                    styles: [{
                        "featureType": "administrative",
                        "elementType": "labels.text.fill",
                        "stylers": [{
                            "color": "#444444"
                        }]
                    }]
                });


                var boxText = document.createElement("div");
                boxText.className = 'map-box'
                var currentInfobox;
                var boxOptions = {
                    content: boxText,
                    disableAutoPan: true,
                    alignBottom: true,
                    maxWidth: 0,
                    pixelOffset: new google.maps.Size(-145, -45),
                    zIndex: null,
                    boxStyle: {
                        width: "260px"
                    },
                    closeBoxMargin: "0",
                    closeBoxURL: "",
                    infoBoxClearance: new google.maps.Size(1, 1),
                    isHidden: false,
                    pane: "floatPane",
                    enableEventPropagation: false,
                };
                var markerCluster, marker, i;
                var allMarkers = [];
                var clusterStyles = [{
                    textColor: 'white',
                    url: '',
                    height: 50,
                    width: 50
                }];


                for (i = 0; i < locations.length; i++) {
                    marker = new google.maps.Marker({
                        position: new google.maps.LatLng(locations[i][1], locations[i][2]),
                        icon: locations[i][4],
                        id: i
                    });
                    allMarkers.push(marker);
                    var ib = new InfoBox();

                    google.maps.event.addListener(marker, 'click', (function (marker, i) {
                        return function () {
                            ib.setOptions(boxOptions);
                            boxText.innerHTML = locations[i][0];
                            ib.close();
                            ib.open(map, marker);
                            currentInfobox = marker.id;
                            var latLng = new google.maps.LatLng(locations[i][1], locations[i][2]);
                            map.panTo(latLng);
                            map.panBy(0, -180);
                            google.maps.event.addListener(ib, 'domready', function () {
                                $('.infoBox-close').click(function (e) {
                                    e.preventDefault();
                                    ib.close();
                                });
                            });
                        }
                    })(marker, i));
                }
                var options = {
                    imagePath: 'img/',
                    styles: clusterStyles,
                    minClusterSize: 2
                };
                markerCluster = new MarkerClusterer(map, allMarkers, options);
                google.maps.event.addDomListener(window, "resize", function () {
                    var center = map.getCenter();
                    google.maps.event.trigger(map, "resize");
                    map.setCenter(center);
                });

                $('.nextmap-nav').click(function (e) {
                    e.preventDefault();
                    map.setZoom(15);
                    var index = currentInfobox;
                    if (index + 1 < allMarkers.length) {
                        google.maps.event.trigger(allMarkers[index + 1], 'click');
                    } else {
                        google.maps.event.trigger(allMarkers[0], 'click');
                    }
                });
                $('.prevmap-nav').click(function (e) {
                    e.preventDefault();
                    map.setZoom(15);
                    if (typeof (currentInfobox) == "undefined") {
                        google.maps.event.trigger(allMarkers[allMarkers.length - 1], 'click');
                    } else {
                        var index = currentInfobox;
                        if (index - 1 < 0) {
                            google.maps.event.trigger(allMarkers[allMarkers.length - 1], 'click');
                        } else {
                            google.maps.event.trigger(allMarkers[index - 1], 'click');
                        }
                    }
                });
                $('.map-item').click(function (e) {
                    e.preventDefault();
                    map.setZoom(15);
                    var index = currentInfobox;
                    var marker_index = parseInt($(this).attr('href').split('#')[1], 10);
                    google.maps.event.trigger(allMarkers[marker_index], "click");
                    if ($(this).hasClass("scroll-top-map")) {
                        $('html, body').animate({
                            scrollTop: $(".map-container").offset().top + "-80px"
                        }, 500)
                    } else if ($(window).width() < 1064) {
                        $('html, body').animate({
                            scrollTop: $(".map-container").offset().top + "-80px"
                        }, 500)
                    }
                });
                var zoomControlDiv = document.createElement('div');
                var zoomControl = new ZoomControl(zoomControlDiv, map);

                function ZoomControl(controlDiv, map) {
                    zoomControlDiv.index = 1;
                    map.controls[google.maps.ControlPosition.RIGHT_CENTER].push(zoomControlDiv);
                    controlDiv.style.padding = '5px';
                    var controlWrapper = document.createElement('div');
                    controlDiv.appendChild(controlWrapper);
                    var zoomInButton = document.createElement('div');
                    zoomInButton.className = "mapzoom-in";
                    controlWrapper.appendChild(zoomInButton);
                    var zoomOutButton = document.createElement('div');
                    zoomOutButton.className = "mapzoom-out";
                    controlWrapper.appendChild(zoomOutButton);
                    google.maps.event.addDomListener(zoomInButton, 'click', function () {
                        map.setZoom(map.getZoom() + 1);
                    });
                    google.maps.event.addDomListener(zoomOutButton, 'click', function () {
                        map.setZoom(map.getZoom() - 1);
                    });
                }


            }

            var map = document.getElementById('map-main');
            if (typeof (map) != 'undefined' && map != null) {
                google.maps.event.addDomListener(window, 'load', mainMap);
            }

            function singleMap() {
                var myLatLng = {
                    lng: $('#singleMap').data('longitude'),
                    lat: $('#singleMap').data('latitude'),
                };
                var single_map = new google.maps.Map(document.getElementById('singleMap'), {
                    zoom: 14,
                    center: myLatLng,
                    scrollwheel: false,
                    zoomControl: false,
                    mapTypeControl: false,
                    scaleControl: false,
                    panControl: false,
                    navigationControl: false,
                    streetViewControl: false,
                    styles: [{
                        "featureType": "landscape",
                        "elementType": "all",
                        "stylers": [{
                            "color": "#f2f2f2"
                        }]
                    }]
                });
                var markerIcon2 = {
                    url: map_marker,
                }
                var marker = new google.maps.Marker({
                    position: myLatLng,
                    map: single_map,
                    icon: markerIcon2,
                    title: 'Our Location'
                });
                var zoomControlDiv = document.createElement('div');
                var zoomControl = new ZoomControl(zoomControlDiv, single_map);

                function ZoomControl(controlDiv, single_map) {
                    zoomControlDiv.index = 1;
                    single_map.controls[google.maps.ControlPosition.RIGHT_CENTER].push(zoomControlDiv);
                    controlDiv.style.padding = '5px';
                    var controlWrapper = document.createElement('div');
                    controlDiv.appendChild(controlWrapper);
                    var zoomInButton = document.createElement('div');
                    zoomInButton.className = "mapzoom-in";
                    controlWrapper.appendChild(zoomInButton);
                    var zoomOutButton = document.createElement('div');
                    zoomOutButton.className = "mapzoom-out";
                    controlWrapper.appendChild(zoomOutButton);
                    google.maps.event.addDomListener(zoomInButton, 'click', function () {
                        single_map.setZoom(single_map.getZoom() + 1);
                    });
                    google.maps.event.addDomListener(zoomOutButton, 'click', function () {
                        single_map.setZoom(single_map.getZoom() - 1);
                    });
                }
            }

            var single_map = document.getElementById('singleMap');
            if (typeof (single_map) != 'undefined' && single_map != null) {
                google.maps.event.addDomListener(window, 'load', singleMap);
            }
        })(this.jQuery);
    </script>
{% endblock %}